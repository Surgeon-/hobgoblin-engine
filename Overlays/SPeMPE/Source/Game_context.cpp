
#include <SPeMPE/GameContext/Game_context.hpp>

namespace jbatnozic {
namespace spempe {

///////////////////////////////////////////////////////////////////////////
// CONFIGURATION                                                         //
///////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////
// GAME OBJECT MANAGEMENT                                                //
///////////////////////////////////////////////////////////////////////////

hg::QAO_Runtime& GameContext::getQAORuntime() {
    return _runtime;
}

///////////////////////////////////////////////////////////////////////////
// COMPONENT MANAGEMENT                                                  //
///////////////////////////////////////////////////////////////////////////

void GameContext::detachComponent(ContextComponent& aComponent) {
    _components.detachComponent(aComponent);
}

std::string GameContext::getComponentTableString(char aSeparator) const {
    return _components.toString(aSeparator);
}

///////////////////////////////////////////////////////////////////////////
// OWN STATE                                                             //
///////////////////////////////////////////////////////////////////////////


///////////////////////////////////////////////////////////////////////////
// CHILD CONTEXT SUPPORT                                                 //
///////////////////////////////////////////////////////////////////////////

void GameContext::runChildContext(std::unique_ptr<GameContext> childContext) {

}

bool GameContext::hasChildContext() {
    return (_childContext != nullptr);
}

GameContext* GameContext::getChildContext() const {
    return _childContext.get();
}

int GameContext::stopChildContext() {
    return 0; // TODO
}

///////////////////////////////////////////////////////////////////////////
// PRIVATE METHODS                                                       //
///////////////////////////////////////////////////////////////////////////

} // namespace spempe
} // namespace jbatnozic